<ion-header-bar align-title="left" class="bar-dark">
    <div class="buttons">
        <button class="button button-clear ion-android-arrow-back" ng-click="backToCategory()"></button>
    </div>

    <h1 class="title" ng-cloak ng-show="showUi">{{feed.title}}</h1>

    <div class="buttons">
        <button class="button button-clear ion-android-list" ng-cloak ng-show="showUi" ng-click="switchToListView()"></button>
    </div>
</ion-header-bar>

<ion-content ng-cloak>
    
    <div class="card" ng-show="showUi">
        <a class="block-link" href="{{card.link}}" target="_blank" ng-click="markAsRead()">
            <div class="item item-divider">
                <h5>
                    <span class="icon ion-calendar"></span>&nbsp;{{card.date | date:'EEE d MMM HH:mm'}}&nbsp;{{card.timeDifference}}&nbsp;&nbsp;
                    <span class="icon ion-eye-disabled" ng-show="card.notRead"></span>&nbsp;&nbsp;
                    {{card.index}}/{{card.total}}
                </h5>
            </div>
            <div style="text-align: justify;" class="item item-text-wrap">
                <h2 class="padding-bottom">{{card.title}}</h2>
                <h3 ng-bind-html="card.description"></h3> 
                <h4 class="orange-front padding-top" style="overflow-x: hidden; overflow-y: hidden; word-wrap: normal; text-overflow: ellipsis;">
                    {{card.link}}
                </h4>
            </div>
        </a>

        <div class="item tabs tabs-secondary tabs-icon-left">
            <a class="tab-item" ng-click="onViewFiltered()">
                <i class="icon ion-eye"></i>
                Read more
            </a>
        </div>

    </div>   

    <div class="card" ng-show="showContent">
        <div class="item item-text-wrap" ng-bind-html="card.content"></div>
    </div>

</ion-content>

<ion-footer-bar align-title="left" class="bar-dark">
    <div class="button-bar" ng-cloak ng-show="showUi">
        <a class="button" ng-click="onPrev()">Prev</a>
        <a class="button" ng-click="onMarkAllAsRead()">Mark all read</a>
        <a class="button" ng-click="onNext()">Next</a>
    </div>
</ion-footer-bar>